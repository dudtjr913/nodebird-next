Next를 활용한 NodeBird만들기 = 조현영님의 강의

10/29
README를 자세히 작성하는 것이 중요하다는 점을 알았다.
오늘부터는 미리 설계를 해두고 코딩하는 습관을 들이려고 한다.

해야 할 일

1. Git-commit 자세하게 하기 위한 git-commit-template 만들어서 사용해보기
2. 이미지 수정 기능 만들기

2번의 큰그림

1. 수정 버튼을 누르면 Card의 이미지 부분에 각각 삭제 버튼인 X가 생긴다.
2. X를 누르면 이미지가 화면에서 삭제된다. 하지만 확인 버튼을 누르지 않으면 데이터의 변동은 없어야 한다.
3. 즉, X를 눌러 이미지를 삭제시켜도, 취소를 누르면 다시 원래의 게시글이 나와야 한다.
4. 추가적인 이미지 업로드도 가능하도록 한다.
5. 이것은 포스트를 업로드하는 컴포넌트에서 가능할 것 같다.

2번의 자세한 순서

1. 수정 버튼을 누르면 PostCard의 postEdit state가 true로 바뀌면서 PostImage 컴포넌트의 props로 들어가야 한다.
2. PostImage에서 postEdit이 있으면 삭제 버튼이 나오도록 각각의 태그들에 조건문으로 삭제 Button을 추가한다.
3. 삭제 버튼을 만들었으니 onClick 이벤트도 만들어야 한다.
4. 여기에서 삭제 버튼을 눌렀을 때, 이미지가 삭제되어야 하는데, 데이터의 이미지는 건들이면 안되기 때문에 컴포넌트를 PostImage로 하면 안될 것 같다.
5. 다시 돌아와서 PostImage가 아닌 PostEditImage라는 컴포넌트를 만들어야 할 것 같다.
6. PostEditImage는 postEdit state가 true일 때만 실행되고, reducer의 이미지를 그대로 가져와서 images라는 변수에 할당해주고,
   PostImage의 코드를 그대로 복사해서 src부분만 images로 연결될 수 있게 바꾸어준다.
   이렇게 하면 취소를 눌렀을 때 그냥 원래의 포스트로 돌아갈 수 있다고 생각이 된다.
   6-1. 이미지 삭제 버튼을 눌렀을 때, 삭제 버튼이 눌린 이미지의 src와 post.id를 reducer로 전달해줘야 한다. 그래야 백엔드에서
   삭제할 이미지와 post.id를 알 수 있다.
7. 이미지를 업로드 하기 위해 onSubmit을 했을 때 들어가야 할 imagePath와 같은 것들은 이미 게시글 등록에서 쓰던 것들이기 때문에
   같은 걸 사용하면 될 것 같다.
8. 수정이기 때문에 중요한 것은 백엔드에서 먼저 삭제되어야 할 이미지를 찾아서 삭제한 뒤에 추가해야 할 이미지를 추가하고
   include를 통해 수정된 Image를 받아와서 넘겨주는 것이 중요하다.
9. 여기까지 하면 이미지 업로드가 완료될 것 같다.
